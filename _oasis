OASISFormat: 0.3
Name:        rpclib
Version:     2.0.0
Synopsis:    RPC library
Authors:     Thomas Gazagnaire, Jon Ludlam
License:     ISC
Plugins:     META(0.4)
BuildTools:  ocamlbuild

Flag js
  Description: build the JS client
  Default: false

Library rpclib_core
  Path: lib
  CompiledObject: best
  FindlibParent: rpclib
  Findlibname: core
  Modules: Rpc, Idl, Rpcmarshal, Pythongen, Htmlgen, Codegen, Markdowngen
  BuildDepends:	result, cow

Library xml
  Path: lib
  CompiledObject: best
  FindlibParent: rpclib
  Findlibname: xml
  Modules: Xmlrpc
  BuildDepends:	xmlm, rpclib.core

Library json
  Path: lib
  CompiledObject: best
  FindlibParent: rpclib
  Findlibname: json
  Modules: Jsonrpc
  BuildDepends:	rpclib.core

Library pa_rpc
  Path: lib
  FindlibParent: rpclib
  FindlibName: syntax
  XMETAType: syntax
  Modules: Pa_rpc, P4_rpc, Pa_module_conv
  BuildDepends: type_conv, result

Library unix
  Path: lib
  FindlibParent: rpclib
  FindlibName: unix
  Modules: Rpc_client
  BuildDepends: rpclib.core

Library rpclib
  Path: lib
  FindlibName: rpclib
  BuildDepends: rpclib.xml, rpclib.json

Library idl
  Path: lib
  FindlibParent: rpclib
  FindlibName: idl
  Modules: P4_idl, P4_rpc, Pa_module_conv
  XMETAType: syntax
  BuildDepends: rpclib, camlp4, result

Library ppx_deriving_rpc
  Path: ppx
  Findlibname: ppx_deriving_rpc
  Modules: Ppx_deriving_rpc, Ppx_deriving_rpcty
  BuildDepends: compiler-libs.common, ppx_tools.metaquot, ppx_deriving, ppx_deriving.api

Library rpc_client_js
  Build$: flag(js)
  Install$: flag(js)
  Path: js
  FindlibParent: rpclib
  Findlibname: js
  BuildDepends: js_of_ocaml, js_of_ocaml.syntax
  Modules: Rpc_client_js, Rpc_client_js_helper

